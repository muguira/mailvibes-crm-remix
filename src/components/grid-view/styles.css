/* Grid container */
.grid-view {
  display: flex;
  flex-direction: column;
  height: 100%;
  background-color: #fff;
  font-family: 'Inter', system-ui, sans-serif;
  user-select: none;
  overflow: hidden;
  /* Prevent outer scroll */
  position: relative;
  /* Ensure proper stacking context */
  padding-top: 108px;
  /* Account for both top navbar (48px) and toolbar (60px) */
}

/* Grid toolbar - fixed position below main navigation */
.grid-toolbar {
  display: flex;
  flex-direction: column;
  /* Allow for filter tags to appear below on mobile */
  align-items: center;
  padding: 0.75rem 1rem;
  border-bottom: 1px solid #e5e7eb;
  justify-content: space-between;
  background-color: #fff;
  z-index: 9999;
  /* High z-index but just below the main navigation (10000) */
  position: fixed;
  /* Fixed position so it stays in place during scrolling */
  top: 48px;
  /* Position exactly below the main navigation (h-12 = 48px) */
  left: 0;
  right: 0;
  width: 100%;
  min-height: 60px;
  /* Changed from fixed to minimum height for mobile adaptability */
}

/* Mobile toolbar optimizations */
@media (max-width: 767px) {

  /* Container for mobile toolbar buttons */
  .grid-toolbar .flex.items-center.w-full {
    height: 40px;
    align-items: center;
    padding-right: 8px;
  }

  /* Ensure buttons are properly sized and aligned */
  .grid-toolbar button.p-2,
  .grid-toolbar .h-9.w-9 {
    height: 36px;
    width: 36px;
    display: flex;
    align-items: center;
    justify-content: center;
  }

  /* Filter button next to search icon when collapsed */
  .grid-toolbar .flex.items-center .ml-1 {
    margin-left: 4px;
  }

  /* Make sure search expands smoothly */
  .grid-toolbar .absolute.left-10.right-0 {
    animation: slideIn 0.2s ease-out;
    height: 36px;
    display: flex;
    align-items: center;
  }

  /* Animation for search expansion */
  @keyframes slideIn {
    from {
      opacity: 0;
      transform: translateX(-10px);
    }

    to {
      opacity: 1;
      transform: translateX(0);
    }
  }

  /* Ensure focus stays on search when expanded */
  .grid-toolbar .search-input-field:focus {
    outline: none;
    border-color: #32BAB0;
  }

  /* Make dialog smaller on mobile */
  [data-radix-dialog-content] {
    max-width: 92vw !important;
    max-height: 80vh !important;
    overflow-y: auto !important;
    padding: 16px !important;
  }

  /* Dialog header smaller on mobile */
  [data-radix-dialog-title] {
    font-size: 18px !important;
  }

  [data-radix-dialog-description] {
    font-size: 14px !important;
    margin-bottom: 8px !important;
  }

  /* Fix spacing in dialog content */
  [data-radix-dialog-content] .grid.gap-4 {
    gap: 12px !important;
  }

  /* Smaller labels and inputs in dialog */
  [data-radix-dialog-content] label {
    font-size: 14px !important;
    margin-bottom: 2px !important;
  }

  /* Prevent content overflow */
  [data-radix-dialog-content] input,
  [data-radix-dialog-content] select {
    font-size: 14px !important;
  }

  /* Button spacing in dialog footer */
  [data-radix-dialog-footer].flex-col>button {
    margin-top: 8px !important;
  }
}

.toolbar-left,
.toolbar-right {
  display: flex;
  align-items: center;
}

.toolbar-left {
  gap: 1rem;
}

.toolbar-right {
  gap: 0.5rem;
}

/* Mobile-optimized search container */
.search-container-mobile {
  display: flex;
  align-items: center;
  width: 100%;
}

/* Expand search on mobile when active */
.search-expanded {
  width: 100%;
  transition: width 0.2s ease;
}

/* Prevent layout shift during mobile search */
.search-placeholder {
  width: 32px;
  height: 32px;
}

/* Search field styling - updated */
.search-field-container {
  position: relative;
  border-color: #e5e7eb;
}

.search-field-container:focus-within {
  border-color: #3b82f6;
  box-shadow: 0 0 0 1px rgba(59, 130, 246, 0.5);
}

.search-input {
  width: 100%;
  padding: 0.5rem 0.5rem 0.5rem 2rem;
  background-color: transparent;
  border: none;
  outline: none;
  font-size: 0.875rem;
  color: #111827;
}

.search-input:focus {
  outline: none;
}

.search-input::placeholder {
  color: #9ca3af;
}

/* Mobile search icon */
.mobile-search-icon {
  color: #6b7280;
  cursor: pointer;
  min-width: 28px;
  min-height: 28px;
  display: flex;
  align-items: center;
  justify-content: center;
}

/* NEW: Grid components container */
.grid-components-container {
  display: flex;
  flex-direction: row;
  flex: 1;
  overflow: hidden;
  position: relative;
  border-top: 1px solid #e5e7eb;
  /* Added top border to entire container */
}

/* NEW: Static columns container */
.static-columns-container {
  flex-shrink: 0;
  position: relative;
  height: 100%;
  z-index: 40;
  /* Higher than other grid elements */
  /* Changed from 2px to 1px to match other borders */
  background-color: #fff;
  overflow: visible;
  /* Added box-shadow to static columns for visual depth */
}

.static-headers {
  display: flex;
  background-color: #f9fafb;
  border-top: 1px solid #e5e7eb;
  border-bottom: 1px solid #e5e7eb;
  height: 36px;
  /* HEADER_HEIGHT */
  z-index: 41;
  position: relative;
}

.index-header {
  display: flex;
  align-items: center;
  justify-content: center;
  font-weight: 500;
  font-size: 0.75rem;
  color: #6b7280;
  background-color: #f9fafb;
  border-right: 1px solid #e5e7eb;
  border-bottom: 1px solid #e5e7eb;
  position: sticky;
  left: 0;
  z-index: 42;
}

.opportunity-header {
  display: flex;
  align-items: center;
  justify-content: flex-start;
  padding: 0 0.75rem;
  font-weight: 500;
  font-size: 0.875rem;
  color: #111827;
  background-color: #f9fafb;
  border-right: 1px solid #e5e7eb;
  border-bottom: 1px solid #e5e7eb;
  position: sticky;
  left: 48px;
  z-index: 42;
}

.static-rows-container {
  will-change: transform;
  overflow: hidden;
}

.static-row {
  background-color: #fff;
}

.index-cell {
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 0.75rem;
  color: #6b7280;
  background-color: #fff;
  border-right: 1px solid #e5e7eb;
  border-bottom: 1px solid #e5e7eb;
  height: 36px;
  /* Match increased cell height */
  padding-bottom: 4px;
  /* Extra padding for descenders */
  padding-top: 4px;
  /* Balance top padding */
}

.opportunity-cell {
  display: flex;
  align-items: center;
  padding: 0 0.75rem;
  font-size: 0.875rem;
  color: #111827;
  border-bottom: 1px solid #e5e7eb;
  background-color: #fff;
  overflow: hidden;
  white-space: nowrap;
  text-overflow: ellipsis;
  /* Use the same explicit values as other cells */
  height: 36px;
  /* Increased height */
  line-height: 1.5;
  padding-bottom: 4px;
  /* Extra bottom padding for descenders */
  padding-top: 4px;
  /* Balance top padding */
}

.opportunity-text {
  color: #2563eb;
  text-decoration: none;
}

.opportunity-text:hover {
  text-decoration: underline;
}

/* NEW: Main grid view */
.main-grid-view {
  flex: 1;
  position: relative;
  overflow: hidden;
  /* Keep this as hidden */
  height: 100%;
  /* max-width restriction removed to allow scrolling all the way to the right */
  outline: none !important;
  z-index: 10;
  /* Lower z-index than toolbar */
}

/* Only show focus styles when actually focused via keyboard */
.main-grid-view:focus-visible {
  outline: 2px solid #62BFAA !important;
}

/* Make sure focus doesn't hide toolbar */
.main-grid-view:focus {
  /* Prevent any focus styles that might change z-index or positioning */
  z-index: 10;
  /* Keep lower than toolbar */
}

.main-grid-header {
  overflow-x: scroll;
  scrollbar-width: none;
  /* Hide scrollbar in Firefox */
  -ms-overflow-style: none;
  /* Hide scrollbar in IE/Edge */
  background-color: #f9fafb;
  border-top: 1px solid #e5e7eb;
  border-bottom: 1px solid #e5e7eb;
  position: relative;
  z-index: 31;
  width: 100%;
}

/* Hide scrollbar for Chrome, Safari and Opera */
.main-grid-header::-webkit-scrollbar {
  display: none;
}

.main-grid-body {
  position: relative;
  height: calc(100% - 36px);
  /* 100% - HEADER_HEIGHT */
  overflow: hidden;
  display: flex;
  flex-direction: column;
}

/* Full height container to ensure grid can show all rows */
.h-full {
  height: 100vh !important;
  /* Force full viewport height */
}

.data-grid {
  overflow: scroll !important;
  /* Force scrolling to be enabled */
  scrollbar-width: none !important;
  /* Hide scrollbar in Firefox */
  -ms-overflow-style: none !important;
  /* Hide scrollbar in IE/Edge */
  /* Add right padding to ensure content isn't hidden under the scrollbar area */
  padding-right: 0;
  /* Fix for Safari */
  -webkit-overflow-scrolling: touch;
  /* Ensure we can see the last rows */
  padding-bottom: 40px !important;
  /* Medium padding to ensure all rows are visible */
  /* Extra margin at the end to see the last rows completely */
  margin-bottom: 30px;
  /* Fix scrolling behavior */
  max-height: none !important;
  height: auto !important;
  min-height: 100% !important;
  will-change: transform;
  /* Optimize scrolling performance */
  overscroll-behavior: auto;
  /* Prevent scroll chaining */
  scroll-behavior: auto !important;
  /* Ensure natural scrolling */
}

/* Completely hide scrollbars for all browsers while keeping scroll functionality */
.data-grid::-webkit-scrollbar {
  display: none !important;
  width: 0 !important;
  height: 0 !important;
}

.data-grid::-webkit-scrollbar-track {
  display: none !important;
}

.data-grid::-webkit-scrollbar-thumb {
  display: none !important;
}

/* NEW: Action column */
.action-column-container {
  flex-shrink: 0;
  width: 40px;
  position: relative;
  height: 100%;
  border-left: 1px solid #e5e7eb;
  background-color: #fff;
  z-index: 30;
  overflow: hidden;
}

.action-column-header {
  background-color: #f9fafb;
  border-bottom: 1px solid #e5e7eb;
  display: flex;
  align-items: center;
  justify-content: center;
}

.action-column-rows {
  will-change: transform;
  overflow: hidden;
}

.row-action-link {
  display: flex;
  align-items: center;
  justify-content: center;
  width: 24px;
  height: 24px;
  border-radius: 4px;
  color: #6b7280;
}

.row-action-link:hover {
  background-color: #f3f4f6;
  color: #2563eb;
}

/* Grid header - updated */
.grid-header-row {
  display: flex;
  background-color: #f9fafb;
  height: 36px;
  /* HEADER_HEIGHT */
  z-index: 30;
}

.grid-header-cell {
  height: 36px;
  /* HEADER_HEIGHT */
  padding: 0 0.75rem;
  display: flex;
  align-items: center;
  justify-content: space-between;
  border-right: 1px solid #e5e7eb;
  font-weight: 500;
  color: #111827;
  background-color: #f9fafb;
  cursor: pointer;
  box-sizing: border-box;
  font-size: 0.875rem;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  line-height: 1.5;
}

.grid-header-cell:hover {
  background-color: #f3f4f6;
}

/* Grid cells - updated */
.grid-cell {
  box-sizing: border-box;
  padding: 0 0.75rem;
  background-color: #fff;
  font-size: 0.875rem;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  display: flex;
  align-items: center;
  user-select: none;
  /* Prevent text selection */
  position: relative;
  /* Required for selected-cell style positioning */
  transition: none !important;
  /* Explicitly increase height and add bottom padding to ensure no text is cut off */
  height: 36px;
  /* Increased from ROW_HEIGHT (32px) */
  padding-bottom: 4px;
  /* Extra bottom padding for descenders */
  padding-top: 4px;
  /* Balance top padding */
}

.grid-cell-editable {
  cursor: text;
}

/* Remove background color change on hover to prevent alignment issues */
.grid-cell-editable:hover {
  background-color: #f9fafb;
}

/* Cell content wrapper to maintain consistent text positioning */
.cell-content {
  position: static;
  padding: 0;
  margin: 0;
  width: 100%;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  display: flex;
  align-items: center;
  left: 0;
  top: 0;
  height: 100%;
  box-sizing: border-box;
  padding-left: 0.75rem;
  /* Add consistent left padding */
  line-height: 1.5;
  /* Higher line height to ensure descenders are not cut off */
  padding-bottom: 2px;
  /* Add explicit bottom padding */
}

/* No longer needed since we're using .cell-content */
.grid-cell>div.cell-content,
.grid-cell>span.cell-content,
.grid-cell>a.cell-content {
  position: static;
  transform: none;
  transition: none !important;
  width: 100%;
  height: 100%;
  padding-left: 0.75rem;
}

/* Keep text in the same position when cell is selected */
.selected-cell .cell-content {
  padding-left: 0.75rem;
  /* Same padding as normal cells */
  top: 0;
  left: 0;
  position: static;
}

/* Fixed positioning for cell content - improved */
.grid-cell>div,
.grid-cell>span,
.grid-cell>a {
  position: static;
  transform: none;
  transition: none !important;
  left: 0;
  right: 0;
  width: 100%;
  /* Full width of the cell */
}

.grid-cell-editing {
  padding: 0;
}

.grid-cell-input {
  transition: none !important;
  outline: none !important;
  border: none !important;
  width: 100% !important;
  height: 100% !important;
  padding: 0 8px !important;
  background: white !important;
}

.grid-cell-input:focus {
  outline: none;
}

/* Add Column button */
.add-column-button {
  width: 36px;
  height: 36px;
  display: flex;
  align-items: center;
  justify-content: center;
  border: none;
  background: none;
  cursor: pointer;
  color: #6b7280;
  font-size: 1.25rem;
}

.add-column-button:hover {
  background-color: #f3f4f6;
  color: #2563eb;
}

/* Search highlight */
.search-highlight {
  background-color: #fef3c7;
  padding: 0px 2px;
  border-radius: 2px;
}

/* Highlight column when context menu is open */
.highlight-column {
  background-color: rgba(214, 235, 255, 0.25) !important;
}

/* Context menu container */
.context-menu-container {
  z-index: 1000;
}

/* Status pill styling */
.status-pill {
  border-radius: 9999px;
  font-size: 0.75rem;
  font-weight: 500;
  display: inline-flex;
  align-items: center;
  line-height: 1;
  padding: 4px 8px;
}

/* Empty state */
.no-rows {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  height: 100%;
  padding: 2rem;
  color: #6b7280;
  text-align: center;
}

.no-rows svg {
  margin-bottom: 1rem;
  color: #d1d5db;
}

/* Responsive adjustments */
@media (max-width:.640px) {
  .grid-toolbar {
    flex-direction: column;
    align-items: flex-start;
    gap: 0.75rem;
  }

  .toolbar-left,
  .toolbar-right {
    width: 100%;
  }
}

/* Fix for border alignment */
.static-columns-container,
.main-grid-view,
.action-column-container {
  box-sizing: border-box;
}

/* Container to ensure all rows are visible */
.grid-container {
  display: flex;
  flex-direction: column;
  height: 100% !important;
  min-height: 100vh;
  position: relative;
  padding-bottom: 10px;
  /* Extra space at bottom to ensure last rows are visible */
  max-width: 100%;
  /* Ensure it doesn't overflow horizontally */
  overflow-x: hidden;
  /* Prevent horizontal overflow */
}

/* Add Sheets-like cell selection styling */
.selected-cell {
  position: relative;
  z-index: 15;
  box-shadow: 0 0 0 1px #62BFAA !important;
  outline: none !important;
  transition: none !important;
}

/* Keep the content positioning consistent regardless of selection state */
.selected-cell>div,
.selected-cell>span,
.selected-cell>a {
  position: static;
  left: 0.75rem;
  width: calc(100% - 1.5rem);
}

/* Ensure only one selection at a time by raising z-index */
.selected-cell[data-column-id="status"] {
  z-index: 20 !important;
}

/* Status dropdown styling */
.status-select {
  appearance: auto;
  background-color: #fff;
  border: 1px solid #e5e7eb;
  border-radius: 4px;
  padding: 0.25rem 0.5rem;
  color: #111827;
  cursor: pointer;
  width: calc(100% - 1rem);
  margin: 0 0.5rem;
}

.status-select:focus {
  border-color: #62BFAA;
  outline: none;
  box-shadow: 0 0 0 2px rgba(98, 191, 170, 0.2);
}

.status-select option {
  padding: 0.5rem;
}

/* Status dropdown styling */
.grid-cell-input.status-select {
  border: none !important;
  background: transparent;
  width: 100%;
  height: 100%;
  min-height: 100%;
  box-shadow: none !important;
  padding: 0px 8px;
  outline: none !important;
  /* Add transition for smoothness */
  transition: border-color 0.1s ease-in-out;
}

/* Remove focus ring and borders from status select when active */
.grid-cell-input.status-select:focus,
.grid-cell-input.status-select[data-state="open"] {
  border: none !important;
  box-shadow: none !important;
  outline: none !important;
  ring: none !important;
}

/* Also remove any radix outline/ring */
[data-radix-select-trigger] {
  outline: none !important;
  box-shadow: none !important;
  --ring-color: transparent !important;
  --ring-offset-color: transparent !important;
  --ring-offset-width: 0 !important;
  --ring-width: 0 !important;
}

/* Add transition for smoother selection changes */
.grid-cell {
  transition: none !important;
}

/* Status color overrides - softer colors with opacity */
/* New - Light Cream */
[data-value="New"] .inline-block,
.status-pill[data-value="New"] {
  background-color: rgba(250, 237, 203, 0.7) !important;
  color: #000000 !important;
}

/* In Progress - Light Mint */
[data-value="In Progress"] .inline-block,
.status-pill[data-value="In Progress"] {
  background-color: rgba(201, 228, 222, 0.7) !important;
  color: #000000 !important;
}

/* On Hold - Light Blue */
[data-value="On Hold"] .inline-block,
.status-pill[data-value="On Hold"] {
  background-color: rgba(198, 222, 241, 0.7) !important;
  color: #000000 !important;
}

/* Closed Won - Light Lavender */
[data-value="Closed Won"] .inline-block,
.status-pill[data-value="Closed Won"] {
  background-color: rgba(219, 205, 240, 0.7) !important;
  color: #000000 !important;
}

/* Closed Lost - Light Pink */
[data-value="Closed Lost"] .inline-block,
.status-pill[data-value="Closed Lost"] {
  background-color: rgba(242, 198, 222, 0.7) !important;
  color: #000000 !important;
}

/* Date column styles */
[data-column-id^="date"] .grid-cell-input,
[data-column-id="lastContacted"] .grid-cell-input {
  text-align: left;
  padding-left: 8px;
}

/* Invalid date input styling */
.grid-cell-input.invalid-date {
  border: 1px solid #f87171 !important;
  background-color: #fee2e2 !important;
  color: #ef4444 !important;
}

.grid-cell-input.invalid-date::placeholder {
  color: #ef4444 !important;
  font-size: 12px !important;
}

/* Date calendar popup styles */
.date-options-popup {
  min-width: 300px !important;
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15) !important;
  border-radius: 8px !important;
  z-index: 10006 !important;
  background-color: white !important;
}

.date-popup-header {
  background-color: #f9fafb;
  border-top-left-radius: 8px;
  border-top-right-radius: 8px;
}

/* Ensure consistent calendar appearance */
.react-calendar {
  border: 1px solid #e5e7eb !important;
  border-radius: 6px !important;
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1) !important;
  background-color: white !important;
}

/* Ensure calendar can't be hidden by other elements */
.react-calendar__month-view__days__day {
  position: relative !important;
  z-index: 10007 !important;
}

/* Generic strong colors for status pills */
.status-pill {
  /* Default styles */
  border-radius: 9999px;
  font-size: 0.75rem;
  font-weight: 500;
  display: inline-flex;
  align-items: center;
  line-height: 1;
  padding: 4px 8px;
}

/* Fix for input selection */
input.grid-cell-input {
  outline: none;
  border: none;
  width: 100%;
  height: 100%;
  padding: 0 8px;
  background: white;
}

/* Height fix for status select */
[data-column-id="status"] .grid-cell-input {
  min-height: 30px;
  height: 30px;
}

.grid-cell .w-full.h-full {
  width: 100%;
  height: 100%;
  display: flex;
  align-items: center;
}

/* Hide arrow on the status select trigger */
.grid-cell-input.status-select svg {
  display: none;
}

/* Improve dropdown positioning */
.status-dropdown-content {
  z-index: 100 !important;
  /* Make sure it shows on the same row */
  position: absolute;
  min-width: 150px !important;
  max-height: 300px !important;
  overflow-y: auto !important;
  box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1) !important;
  border: 1px solid #e5e7eb !important;
  border-radius: 6px !important;
  background-color: white !important;
  transition: none !important;
  animation-duration: 0ms !important;
}

/* Styling for status dropdown items */
.status-dropdown-content [data-radix-select-item] {
  padding: 8px 10px !important;
  margin: 2px 4px !important;
  border-radius: 4px !important;
  cursor: pointer !important;
  font-size: 13px !important;
}

.status-dropdown-content [data-radix-select-item]:hover {
  background-color: #f5f5f5 !important;
}

.status-dropdown-content [data-radix-select-item][data-highlighted] {
  background-color: #f0f0f0 !important;
  color: #000 !important;
}

/* Make sure dropdown content is completely hidden when closed */
.status-dropdown-content[data-state="closed"] {
  display: none !important;
}

/* Status badge styling */
.status-badge {
  border-radius: 9999px;
  padding: 2px 8px;
  display: inline-flex;
  align-items: center;
  font-size: 12px;
  line-height: 1.5;
  font-weight: 500;
}

/* Ensure cell transitions are smooth */
.grid-cell {
  transition: none !important;
}

/* Add specific styling for status cells */
.grid-cell[data-column-id="status"] {
  text-align: center;
  display: flex;
  flex-direction: column;
  justify-content: center;
}

/* Add constant absolute protection for toolbar visibility */
body.grid-view-active .grid-toolbar {
  display: flex !important;
  /* Always display */
  visibility: visible !important;
  /* Always visible */
  opacity: 1 !important;
  /* Always fully opaque */
  position: fixed !important;
  /* Ensure fixed position */
  top: 48px !important;
  /* Keep below main navigation */
}

/* Additional protection for scrolling operations */
body.grid-scroll-active .grid-toolbar {
  display: flex !important;
  opacity: 1 !important;
  visibility: visible !important;
  position: fixed !important;
  top: 48px !important;
  z-index: 9999 !important;
  /* High but below main nav */
  transform: translateZ(0) !important;
  /* Force hardware acceleration */
  will-change: transform !important;
  /* Hint to browser to optimize */
  transition: none !important;
  /* Prevent any animations */
}

/* Prevent focus from hiding toolbar */
body.grid-keyboard-nav *:focus {
  z-index: auto !important;
  /* Reset any z-index changes from focus */
}

/* Also prevent scrolling from affecting toolbar visibility */
body.grid-scroll-active *:focus,
body.grid-scroll-active .main-grid-view,
body.grid-scroll-active .main-grid-body {
  z-index: auto !important;
}

/* Ensure grid never gets a higher z-index than toolbar */
.main-grid-view:focus,
.main-grid-view:focus-visible,
.main-grid-view:focus-within {
  z-index: 10 !important;
  /* Force to be lower than toolbar */
}

/* Status popover styling with close button */
.status-options-popup {
  width: 160px;
  /* Smaller width to match blue box size in image */
  padding: 0;
  background-color: white;
  border-radius: 6px;
  border: 1px solid #e5e7eb;
  box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1);
  z-index: 50;
  overflow: hidden;
  animation: none !important;
  /* Remove animation for immediate appearance */
  transform-origin: var(--radix-popover-content-transform-origin);
  transform: translateY(0) !important;
  /* Prevent any transform that might shift position */
  max-height: 200px;
  /* Limit the maximum height */
}

/* Status pill centering in grid cell */
.grid-cell[data-column-id="status"] {
  display: flex !important;
  justify-content: center !important;
  align-items: center !important;
  padding: 0 !important;
  /* Remove default padding to ensure proper centering */
}

/* Status popup needs padding at the bottom to show border */
.status-command [cmdk-list] {
  padding-top: 0 !important;
  gap: 0 !important;
  padding-bottom: 0 !important;
  /* Removed padding to move border up */
}

/* Fix status popup to ensure the bottom is visible */
.status-command {
  border-radius: 0;
  border: none;
  box-shadow: none;
  padding-bottom: 0;
  /* Removed padding */
  margin-bottom: 0;
  /* Removed margin */
}

/* Remove bottom whitespace in the dropdown */
.status-options-popup>div {
  margin-bottom: 0 !important;
  padding-bottom: 0 !important;
}

/* Remove white space from dropdown content wrapper */
[data-radix-popper-content-wrapper] {
  padding-bottom: 0 !important;
  margin-bottom: 0 !important;
}

/* Fix the dropdown content's vertical space */
div[cmdk-root] {
  min-height: 0 !important;
  margin-bottom: 0 !important;
  padding-bottom: 0 !important;
}

/* Eliminate whitespace at bottom of list */
div[cmdk-list] {
  padding-bottom: 0 !important;
  margin-bottom: 0 !important;
}

/* Hide any extra space at the bottom of dropdown */
div[cmdk-list]:after {
  content: none !important;
  display: none !important;
}

/* Make last item not have any margin or padding at bottom */
.status-command-item:last-child {
  border-bottom: none;
  margin-bottom: 0 !important;
  padding-bottom: 4px !important;
}

/* Status popup item height - decrease to fit more in view */
.status-command-item {
  padding: 4px 10px;
  /* Reduced padding from 8px 12px */
  border-radius: 0;
  cursor: pointer;
  transition: background-color 0.15s ease;
  height: 26px;
  /* Slightly reduce height to match blue line */
  min-height: 26px;
  font-size: 13px;
  /* Smaller font size */
}

.status-popup-header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 4px 10px;
  /* Reduced padding from 8px 12px */
  border-bottom: 1px solid #e5e7eb;
  font-size: 13px;
  /* Reduced from 14px */
  font-weight: 500;
}

/* Fix border position at the bottom */
.status-command-item:last-child {
  border-bottom: none;
  margin-bottom: 0;
}

/* Adjust content container to eliminate any extra space at bottom */
[data-radix-popper-content-wrapper] {
  padding-bottom: 0 !important;
  margin-bottom: 0 !important;
}

/* Adjust popup root container */
.status-options-popup {
  margin-bottom: 0 !important;
  padding-bottom: 0 !important;
}

.status-popup-close {
  width: 20px;
  height: 20px;
  border-radius: 4px;
  display: flex;
  align-items: center;
  justify-content: center;
  background: none;
  border: none;
  cursor: pointer;
  color: #6b7280;
  font-size: 14px;
  line-height: 1;
}

.status-popup-close:hover {
  background-color: #f3f4f6;
  color: #111827;
}

.status-command {
  border-radius: 0;
  border: none;
  box-shadow: none;
}

/* Remove padding usually reserved for search input */
.status-command [cmdk-list] {
  padding-top: 0 !important;
  gap: 0 !important;
}

.status-command-item {
  padding: 4px 10px;
  /* Reduced padding from 8px 12px */
  border-radius: 0;
  cursor: pointer;
  transition: background-color 0.15s ease;
  height: 28px;
  /* Explicitly set height to be shorter */
  min-height: 28px;
  font-size: 13px;
  /* Smaller font size */
}

.status-command-item:hover {
  background-color: rgba(247, 217, 196, 0.7) !important;
  /* Light Peach */
}

.status-command-item[data-selected=true] {
  background-color: rgba(247, 217, 196, 0.7) !important;
  /* Light Peach */
}

/* Fix z-index hierarchy for consistent popover behavior */
[data-state="open"][data-trigger="status"] {
  z-index: 49 !important;
}

/* Smaller checkmark icon */
.status-command-item .ml-auto.h-4.w-4 {
  height: 14px !important;
  width: 14px !important;
}

/* Ensure dialogs appear above everything, including navbar */
.shadcn-dialog-overlay {
  z-index: 10002 !important;
}

.shadcn-dialog-content {
  z-index: 10003 !important;
}

[data-radix-dialog-overlay] {
  z-index: 10002 !important;
}

[data-radix-dialog-content] {
  z-index: 10003 !important;
}

/* Ensure calendar popups and date selectors appear above everything else */
[data-radix-popper-content-wrapper] {
  z-index: 10005 !important;
  /* Force very high z-index */
}

/* Specific calendar styles to ensure they're on top */
.react-calendar,
[role="dialog"][aria-label*="calendar"],
[data-radix-popper-content-wrapper] [role="dialog"] {
  z-index: 10006 !important;
}

/* Ensure consistent calendar appearance */
.react-calendar {
  border: 1px solid #e5e7eb !important;
  border-radius: 6px !important;
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1) !important;
  background-color: white !important;
}

/* Ensure calendar can't be hidden by other elements */
.react-calendar__month-view__days__day {
  position: relative !important;
  z-index: 10007 !important;
}

/* Fix for calendar popup rendering */
[data-radix-popper-content-wrapper] {
  transform-style: preserve-3d !important;
  isolation: isolate !important;
  will-change: transform !important;
}

/* Ensure date popovers always appear */
[role="dialog"][aria-label*="calendar"] {
  position: relative !important;
  isolation: isolate !important;
}

/* Force smaller dialog on mobile */
.w-\[90vw\].max-w-\[500px\] {
  width: 85vw !important;
  max-height: 80vh !important;
  overflow-y: auto !important;
}

/* Styles for the filter button when placed next to search icon */
.flex.items-center>.ml-1 .FilterPopupBase {
  margin-left: 0;
}

/* Align search icon with filter icon */
.grid-toolbar .flex.items-center .p-2 {
  display: flex;
  align-items: center;
  justify-content: center;
}

/* Force $ emoji color in the navbar */
.text-\[\#32BAB0\] {
  color: #32BAB0 !important;
}

/* Styles for column dragging */
.dragging {
  opacity: 0.8;
  background-color: rgba(214, 235, 255, 0.5);
}

/* Blue line indicator for column dragging target */
.column-drag-indicator {
  position: absolute;
  width: 3px;
  height: 100%;
  background-color: #2684ff;
  top: 0;
  pointer-events: none;
  transition: left 0.1s ease;
  z-index: 100;
}

/* Frozen header styles */
.grid-frozen-header {
  position: sticky !important;
  background-color: #f9fafb !important;
  z-index: 50 !important;
  box-shadow: 2px 0 4px rgba(0, 0, 0, 0.1) !important;
}

/* Status command dot colors - make them fully opaque and stronger */
.status-command-item .inline-block.w-3.h-3,
.status-dropdown-content [data-radix-select-item] .inline-block.w-3.h-3 {
  opacity: 1 !important;
}

/* Define stronger colors for the status dots only */
[data-value="New"] .inline-block.w-3.h-3,
.status-command-item:nth-child(1) .inline-block.w-3.h-3,
[data-radix-select-item][data-value="New"] .inline-block.w-3.h-3 {
  background-color: #FAEDCB !important;
}

[data-value="In Progress"] .inline-block.w-3.h-3,
.status-command-item:nth-child(2) .inline-block.w-3.h-3,
[data-radix-select-item][data-value="In Progress"] .inline-block.w-3.h-3 {
  background-color: #C9E4DE !important;
}

[data-value="On Hold"] .inline-block.w-3.h-3,
.status-command-item:nth-child(3) .inline-block.w-3.h-3,
[data-radix-select-item][data-value="On Hold"] .inline-block.w-3.h-3 {
  background-color: #C6DEF1 !important;
}

[data-value="Closed Won"] .inline-block.w-3.h-3,
.status-command-item:nth-child(4) .inline-block.w-3.h-3,
[data-radix-select-item][data-value="Closed Won"] .inline-block.w-3.h-3 {
  background-color: #DBCDF0 !important;
}

[data-value="Closed Lost"] .inline-block.w-3.h-3,
.status-command-item:nth-child(5) .inline-block.w-3.h-3,
[data-radix-select-item][data-value="Closed Lost"] .inline-block.w-3.h-3 {
  background-color: #F2C6DE !important;
}

/* Pin icon styles for column headers */
.pin-icon {
  opacity: 0;
  transition: opacity 0.2s;
  margin-left: 6px;
  display: flex;
  align-items: center;
}
.grid-header-cell.group:hover .pin-icon,
.static-header-cell.group:hover .pin-icon {
  opacity: 1 !important;
}
.pin-icon.text-\[#62BFAA\] svg {
  color: #62BFAA;
}
.pin-icon.text-gray-400 svg {
  color: #9ca3af;
}
/* Fondo para columnas fijas */
.static-header-cell, .grid-header-cell.grid-frozen-header {
  background-color: #f3f4f6 !important;
}